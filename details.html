<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DERVESH CARGO SERVICES â€” Home</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --deep-green:#134b2b;
      --muted-green:#eaf4ec;
      --accent:#0f3f25;
      --card-shadow:0 8px 30px rgba(7,20,10,0.18);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Montserrat',system-ui,Arial;background:linear-gradient(180deg,#f7fbf8 0%, #e9f3ec 100%);color:#213321;min-height:100vh;display:flex;flex-direction:column}
    header{background:var(--deep-green);color:#fff;padding:16px 40px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--card-shadow)}
    header h1{font-family:'Playfair Display';font-size:24px;letter-spacing:1px}
    nav{display:flex;gap:20px}
    nav a{color:#fff;text-decoration:none;font-weight:600;transition:color .2s}
    nav a:hover{color:#c9f1d8}

    .hero{flex:1;display:flex;align-items:center;justify-content:center;text-align:center;padding:60px 20px;background:url('https://images.unsplash.com/photo-1543362906-acfc16c67564?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80') center/cover no-repeat;color:#fff;position:relative}
    .hero::after{content:'';position:absolute;inset:0;background:rgba(19,75,43,0.55)}
    .hero-content{position:relative;z-index:2}
    .hero h2{font-size:42px;font-family:'Playfair Display';margin-bottom:10px}
    .hero p{font-size:16px;max-width:600px;margin:0 auto}

    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:24px;padding:40px;max-width:1200px;margin:0 auto}
    .card{background:#fff;padding:28px;border-radius:18px;box-shadow:var(--card-shadow);transition:transform .25s;text-decoration:none;color:inherit;display:block}
    .card:hover{transform:translateY(-6px)}
    .card h3{color:var(--deep-green);margin-bottom:10px;font-size:18px}
    .card p{font-size:14px;color:#4b5a4b}

    footer{background:#123c25;color:#d7e9db;padding:20px;text-align:center;font-size:13px}
  </style>
</head>
<body>
  <header>
    <h1>DERVESH CARGO SERVICES</h1>
    <nav>
      <a href="booking.html">Booking</a>
      <a href="details.html">Booking Details</a>
      <a href="gadons.html">Gadon</a>
      <a href="accounts.html">Accounts</a>
      <a href="daybook.html">Daybook</a>
    </nav>
  </header>
<head>
  <meta charset="UTF-8">
  <title>Booking Details - Dervesh Cargo Services</title>
  <style>
    body { font-family: Arial, sans-serif; background: #eef2f7; }
    h2 { text-align: center; color: #333; }
    table { width: 95%; margin: 20px auto; border-collapse: collapse; background: white; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
    th { background: #134B2B; color: white; }
    button { background: #28a745; color: white; border: none; padding: 6px 12px; cursor: pointer; border-radius: 4px; }
    button:hover { background: #218838; }
    .search-box { width: 90%; margin: 15px auto; text-align: center; }
    .search-box input { width: 60%; padding: 8px; border-radius: 6px; border: 1px solid #ccc; }
  </style>
</head>
<body>

  <h2>Booking Details</h2>

  <div class="search-box">
    <input type="text" id="search" placeholder="Search by Bilty No, Date, or Name...">
  </div>

  <table id="detailsTable">
    <thead>
      <tr>
        <th>Bilty No</th>
        <th>Date</th>
        <th>Sender</th>
        <th>Receiver</th>
        <th>Vehicle</th>
        <th>Driver</th>
        <th>Weight</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Pickup</th>
        <th>Drop</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    function loadBookings() {
      let bookings = JSON.parse(localStorage.getItem("bookings")) || [];
      let tbody = document.querySelector("#detailsTable tbody");
      tbody.innerHTML = "";

      bookings.forEach(b => {
        let row = `
          <tr>
            <td>${b.biltyNo}</td>
            <td>${b.date}</td>
            <td>${b.sender}</td>
            <td>${b.receiver}</td>
            <td>${b.vehicle}</td>
            <td>${b.driver} (${b.driverPhone})</td>
            <td>${b.weight}</td>
            <td>${b.qty}</td>
            <td>${b.price}</td>
            <td>${b.pickup}</td>
            <td>${b.drop}</td>
            <td><button onclick="printSlip('${b.biltyNo}')">Print</button></td>
          </tr>
        `;
        tbody.innerHTML += row;
      });
    }

    function printSlip(biltyNo) {
      let bookings = JSON.parse(localStorage.getItem("bookings")) || [];
      let b = bookings.find(x => x.biltyNo === biltyNo);

      let slip = `
        <h2>Dervesh Cargo Services</h2>
        <p><b>Bilty No:</b> ${b.biltyNo}</p>
        <p><b>Date:</b> ${b.date}</p>
        <p><b>Sender:</b> ${b.sender}</p>
        <p><b>Receiver:</b> ${b.receiver}</p>
        <p><b>Vehicle:</b> ${b.vehicle}</p>
        <p><b>Driver:</b> ${b.driver} (${b.driverPhone})</p>
        <p><b>Weight:</b> ${b.weight}</p>
        <p><b>Quantity:</b> ${b.qty}</p>
        <p><b>Price:</b> ${b.price}</p>
        <p><b>Pickup:</b> ${b.pickup}</p>
        <p><b>Drop:</b> ${b.drop}</p>
        <p><b>Remarks:</b> ${b.remarks}</p>
      `;

      let w = window.open("", "", "width=600,height=400");
      w.document.write(slip);
      w.print();
    }

    // Search filter
    document.getElementById("search").addEventListener("keyup", function() {
      let value = this.value.toLowerCase();
      let rows = document.querySelectorAll("#detailsTable tbody tr");
      rows.forEach(row => {
        row.style.display = row.innerText.toLowerCase().includes(value) ? "" : "none";
      });
    });

    window.onload = loadBookings;
    // Example in details.html after form submit:
let bookingData = JSON.parse(localStorage.getItem("bookingData")) || [];
bookingData.push({
  bilty: "2001",
  party: "Ali Traders",
  item: "Cement Bags",
  qtyIn: 400,
  qtyOut: 100
});
localStorage.setItem("bookingData", JSON.stringify(bookingData));

  </script>

</body>
</html>
